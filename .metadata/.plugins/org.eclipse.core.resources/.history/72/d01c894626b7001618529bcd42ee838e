package fracCalc;
import java.util.*;
//Takahiro Mollenakamp 11/30/16

public class FracCalc {

    public static void main(String[] args) 
    {	
    	System.out.println("enter your operation");
    	Scanner input=new Scanner(System.in);//scanner
    	String userInput=input.nextLine();
    	while(userInput.equals("quit")==false){
    		String answer=produceAnswer(userInput);
    		System.out.println(answer);
    		System.out.println("hit me again");
    		userInput=input.nextLine();
    	}
    	System.out.println("THE END");
    }
    public static String produceAnswer(String input)
    {   String answer="";
    	String[] split = input.split(" ");//split to first operand, operator, and second operand
        int[] firstOp=components(split[0]);
        int[] secondOp=components(split[2]);
        convertToImproper(firstOp);
        convertToImproper(secondOp);
        if (split[1].equals("+")){
        	answer =add(firstOp, secondOp);
        }
        if (split[1].equals("-")){
        	answer =subtract(firstOp, secondOp);
        }
        if (split[1].equals("*")){
        	answer =multiply(firstOp, secondOp);
        }
        if (split[1].equals("/")){
        	answer=divide(firstOp, secondOp);
        }
        return answer;
    }
    public static String add(int[] first, int[] second){
    	int denominator = first[2]*second[2];
    	first[1]*=second[2];
    	second[1]*=first[2];
    	int numerator=first[1]+second[1];
    	String solution=numerator+"/"+denominator;
    	return solution;
    	//figure negative numbers
    }
    public static String subtract(int[] first, int[] second){
    	int denominator = first[2]*second[2];
    	first[1]*=second[2];
    	second[1]*=first[2];
    	int numerator=first[1]-second[1];
    	String solution=numerator+"/"+denominator;
    	return solution;
    }
    public static String multiply(int[] first, int[] second){
    	int numerator=first[1]*second[1];
    	int denominator=first[2]*second[2];
    	String solution=numerator+"/"+denominator;
    	return solution;
    }
    public static String divide(int[] first, int[] second){
    	int numerator=first[1]*second[2];
    	int denominator=first[2]*second[2];
    	String solution=numerator+"/"+denominator;
    	return solution;
    }
    
    public static int[] components(String splitted){
    	String[] part= new String[3];
    	if(splitted.indexOf("_")==-1&&splitted.indexOf("/")==-1){
    		part[0]=splitted;
    		part[1]="0";
    		part[2]="1";

    	} else{

    		if (splitted.indexOf("_")!=-1){
    			part[0]=splitted.substring(0, splitted.indexOf("_"));
    			splitted=splitted.substring(splitted.indexOf("_")+1);
    		} else {
    			part[0]="0";
    		}

    		if (splitted.indexOf("/")!=-1){
    			part[1]=splitted.substring(0,splitted.indexOf("/"));
    			part[2]=splitted.substring(splitted.indexOf("/")+1);
    		} else{
    			part[1]="0";
    			part[2]="1";
    		}
    	}
    	int[] comp=new int [3];
    	for(int i=0; i<3; i++){
    		comp [i]= Integer.parseInt(part[i]);
    	}
    	return comp;	
    }
    public static void convertToImproper(int array[]){//change to improper fraction
    	if (array[0]<0){//negative number check
    		array[1]=array[0]*array[2]-array[1];
    } else{
    	array[1]+=(array[0]*array[2]);
    }
    	array[0]=0;
    }
    
}
